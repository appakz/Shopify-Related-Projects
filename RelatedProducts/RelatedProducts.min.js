var relatedProductsUtil={parseHandle:function(fullProductHandle){var splitOnIndex=fullProductHandle.indexOf('_');if(splitOnIndex<0)return;var handle=fullProductHandle.substring(0,splitOnIndex);var suffix=fullProductHandle.substring(splitOnIndex+1);return{ProductHandle:handle,ProductSuffix:suffix}}};var relatedProductsLib={outputSelector:'',suffixLookup:{},messageLookup:{},productLookupFunction:function(relatedProductHandle,setupCallback){},showRelatedProduct:function(currentProductHandle){var parsedInfo=relatedProductsUtil.parseHandle(currentProductHandle);var relatedProductHandle=this.buildRelatedProductHandle(parsedInfo.ProductSuffix,parsedInfo.ProductHandle);if(relatedProductHandle==null)return;this.getRelatedProduct(relatedProductHandle)},buildRelatedProductHandle:function(currentTypeSuffix,currentProductHandle){if(this.suffixLookup[currentTypeSuffix]){return currentProductHandle+'_'+this.suffixLookup[currentTypeSuffix]}return null},getRelatedProduct:function(relatedProductHandle){try{var relatedProduct=this.productLookupFunction(relatedProductHandle,this.setupRelatedProductLink)}catch(e){}},setupRelatedProductLink:function(productData){if(productData==null)return;var message='';var productInfo=relatedProductsUtil.parseHandle(productData.handle);if(relatedProductsLib.messageLookup[productInfo.ProductSuffix]){message=relatedProductsLib.messageLookup[productInfo.ProductSuffix].replace('{0}',productData.url)}if(message=='')return;jQuery(relatedProductsLib.outputSelector).append(message)}};